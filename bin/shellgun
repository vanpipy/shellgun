#!/usr/bin/env bash

BASH=/bin/bash

WHOAMI=$0
COMMAND=$1
CONDITION=$2
PREFIX="gun"

SOURCE="${BASH_SOURCE[0]}"
DIR=`dirname $SOURCE`

if [[ "$COMMAND"=~"^--" ]]; then
    originalCommand=$COMMAND
    COMMAND=${COMMAND:2:${#COMMAND}}
fi

function main() {
    #TODO: Make the standard parameter command like -h or --help.  
    if [[ -e  $DIR/$PREFIX-$COMMAND ]]; then
        #TODO: Call another script with custom params.
        $BASH $DIR/$PREFIX-$COMMAND $CONDITION
    else
        echo "Command $originalCommand did't exist."
        echo

        $BASH $DIR/$PREFIX-'help'
    fi
}

main
